Lua是解释型语言（interpreted language）
Lua总是在运行代码前先预编译源码为中间代码（很多解释型语言都这么做）


## loadfile

- 从文件中加载lua代码段，不运行代码，只编译代码，然后将编译后的代码作为一个函数返回。
- loadfile报错只返回错误码而不抛出异常。
- 即使多次调用也只对同一文件编译一次。（dofile则不是）
- load函数与loadfile类似，但load是从字符串或函数中读取代码段，不是从文件中读取。
- load和loadfile从不引发错误。

## 16.2 预编译的代码

### 几乎在lua中所有能使用源码的地方都可以使用预编译代码。

### 预编译的代码加载得更快。

### string.dump()

- 该函数的参数是一个lua函数，返回值是传入函数对应的字符串形式的预编译代码。

## 16.4 错误处理和异常

### pcall（function）

- pcall会以一种保护模式来调用他的第1个参数，来捕捉该函数执行中的错误。
- 如果没有错误发生，pcall会返回true和被调用函数的所有返回值。
- 如果发生错误，则返回false和错误信息。

### xpcall（）

- 与pcall类似。不同的是它第二个参数是一个消息处理函数，当发生错误时，lua会在调用栈展开前调用这个消息处理函数，来获取有关错误的更多信息。可得到发生错误时完整函数调用栈的栈回溯。